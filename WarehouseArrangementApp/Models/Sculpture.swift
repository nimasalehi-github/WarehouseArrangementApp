//
//  Sculpture.swift
//  WarehouseArrangementApp
//
//  Created by Nima Salehi on 10/22/25.
//


import Foundation
import SwiftUI

// ğŸ§© ØªØ¹Ø±ÛŒÙ Ù…Ø¯Ù„ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ù…Ø¬Ø³Ù…Ù‡
// Ø¯Ø± Ø´ÛŒØ¡Ú¯Ø±Ø§ÛŒÛŒØŒ Ø§ÛŒÙ† struct Ù†Ù‚Ø´ "Ú©Ù„Ø§Ø³ Ø¯Ø§Ø¯Ù‡" Ø±Ø§ Ø¯Ø§Ø±Ø¯ Ú©Ù‡ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù‡Ø± Ù…Ø¬Ø³Ù…Ù‡ Ø±Ø§ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
// ğŸ§© Ù…Ø¯Ù„ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÛŒÚ© "Ù…Ø¬Ø³Ù…Ù‡"
struct Sculpture: Identifiable {
    // ğŸ§± Ø¯Ø± Ø´ÛŒØ¡Ú¯Ø±Ø§ÛŒÛŒØŒ Ø§ÛŒÙ† struct Ù†Ù‚Ø´ "Ú©Ù„Ø§Ø³ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ" Ø±Ø§ Ø¯Ø§Ø±Ø¯
    // ÛŒØ¹Ù†ÛŒ Ø´Ø§Ù…Ù„ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ (Properties) Ùˆ Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ (Methods) Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù…Ø¬Ø³Ù…Ù‡ Ø§Ø³Øª
    
    let id = UUID() // Ø´Ù†Ø§Ø³Ù‡â€ŒÛŒ ÛŒÚ©ØªØ§ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù…Ø¬Ø³Ù…Ù‡ (Encapsulation)
    // ğŸ“ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙÛŒØ²ÛŒÚ©ÛŒ
    var name: String // Ù†Ø§Ù… Ù…Ø¬Ø³Ù…Ù‡
    var width: Double // Ø¹Ø±Ø¶ Ù…Ø¬Ø³Ù…Ù‡
    var height: Double // Ø·ÙˆÙ„ Ù…Ø¬Ø³Ù…Ù‡
    
    // âš™ï¸ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ
    var vulnerability: Int // Ø¯Ø±Ø¬Ù‡â€ŒÛŒ Ø¢Ø³ÛŒØ¨â€ŒÙ¾Ø°ÛŒØ±ÛŒ
    var antiTheft: Int // Ø¶Ø±ÛŒØ¨ Ø¶Ø¯ Ø³Ø±Ù‚Øª Ø¨ÙˆØ¯Ù†
    var price: Double // Ù‚ÛŒÙ…Øª
    // ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø± Ø§Ù†Ø¨Ø§Ø± (Ù…Ø®ØªØµØ§Øª x Ùˆ y)
    var position: CGPoint // Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø± Ø§Ù†Ø¨Ø§Ø±
    
    // ğŸ›¡ï¸ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­Ø§ÙØ¸â€ŒÙ‡Ø§ÛŒ Ø§Ø·Ø±Ø§Ù
        var protectorsAssigned: Int = 0
        
        // ğŸ’¡ Ø±ÙØªØ§Ø±: ØªØ§Ø¨Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø§ÛŒÙ…Ù†ÛŒ Ù…Ø¬Ø³Ù…Ù‡
        func safetyScore(center: CGPoint) -> Double {
            // ÙØ§ØµÙ„Ù‡ Ø§Ø² Ù…Ø±Ú©Ø² Ø§Ù†Ø¨Ø§Ø±
            let dx = position.x - center.x
            let dy = position.y - center.y
            let distance = sqrt(dx * dx + dy * dy)
            
            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø§ÛŒÙ…Ù†ÛŒ ØªØ±Ú©ÛŒØ¨ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¶Ø¯Ø³Ø±Ù‚Øª Ø¨ÙˆØ¯Ù†ØŒ ÙØ§ØµÙ„Ù‡ Ø§Ø² Ù…Ø±Ú©Ø² Ùˆ Ø¢Ø³ÛŒØ¨â€ŒÙ¾Ø°ÛŒØ±ÛŒ
            return (Double(antiTheft) * 1.5) - (Double(vulnerability) * 0.8) - (distance * 0.2)
        }
}

